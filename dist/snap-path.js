!function(t){var e,n,r="hasOwnProperty",i=/[\.\/]/,o=/\s*,\s*/,a=function(t,e){return t-e},s={n:{}},c=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},l=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},u=Object.prototype.toString,f=String,h=Array.isArray||function(t){return t instanceof Array||"[object Array]"==u.call(t)},p=function(t,r){var i,o=n,s=Array.prototype.slice.call(arguments,2),u=p.listeners(t),f=0,h=[],g={},d=[],y=e;d.firstDefined=c,d.lastDefined=l,e=t,n=0;for(var x=0,v=u.length;x<v;x++)"zIndex"in u[x]&&(h.push(u[x].zIndex),u[x].zIndex<0&&(g[u[x].zIndex]=u[x]));for(h.sort(a);h[f]<0;)if(i=g[h[f++]],d.push(i.apply(r,s)),n)return n=o,d;for(x=0;x<v;x++)if("zIndex"in(i=u[x]))if(i.zIndex==h[f]){if(d.push(i.apply(r,s)),n)break;do{if((i=g[h[++f]])&&d.push(i.apply(r,s)),n)break}while(i)}else g[i.zIndex]=i;else if(d.push(i.apply(r,s)),n)break;return n=o,e=y,d};p._events=s,p.listeners=function(t){var e,n,r,o,a,c,l,u,f=h(t)?t:t.split(i),p=s,g=[p],d=[];for(o=0,a=f.length;o<a;o++){for(u=[],c=0,l=g.length;c<l;c++)for(n=[(p=g[c].n)[f[o]],p["*"]],r=2;r--;)(e=n[r])&&(u.push(e),d=d.concat(e.f||[]));g=u}return d},p.separator=function(t){t?(t="["+(t=f(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",i=new RegExp(t)):i=/[\.\/]/},p.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=h(t)?h(t[0])?t:[t]:f(t).split(o),r=0,a=n.length;r<a;r++)!function(t){for(var n,r=h(t)?t:f(t).split(i),o=s,a=0,c=r.length;a<c;a++)o=(o=o.n).hasOwnProperty(r[a])&&o[r[a]]||(o[r[a]]={n:{}});for(o.f=o.f||[],a=0,c=o.f.length;a<c;a++)if(o.f[a]==e){n=!0;break}!n&&o.f.push(e)}(n[r]);return function(t){+t==+t&&(e.zIndex=+t)}},p.f=function(t){var e=[].slice.call(arguments,1);return function(){p.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},p.stop=function(){n=1},p.nt=function(t){var n=h(e)?e.join("."):e;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(n):n},p.nts=function(){return h(e)?e:e.split(i)},p.off=p.unbind=function(t,e){if(t){var n=h(t)?h(t[0])?t:[t]:f(t).split(o);if(n.length>1)for(var a=0,c=n.length;a<c;a++)p.off(n[a],e);else{n=h(t)?t:f(t).split(i);var l,u,g,d,y,x=[s],v=[];for(a=0,c=n.length;a<c;a++)for(d=0;d<x.length;d+=g.length-2){if(g=[d,1],l=x[d].n,"*"!=n[a])l[n[a]]&&(g.push(l[n[a]]),v.unshift({n:l,name:n[a]}));else for(u in l)l[r](u)&&(g.push(l[u]),v.unshift({n:l,name:u}));x.splice.apply(x,g)}for(a=0,c=x.length;a<c;a++)for(l=x[a];l.n;){if(e){if(l.f){for(d=0,y=l.f.length;d<y;d++)if(l.f[d]==e){l.f.splice(d,1);break}!l.f.length&&delete l.f}for(u in l.n)if(l.n[r](u)&&l.n[u].f){var b=l.n[u].f;for(d=0,y=b.length;d<y;d++)if(b[d]==e){b.splice(d,1);break}!b.length&&delete l.n[u].f}}else for(u in delete l.f,l.n)l.n[r](u)&&l.n[u].f&&delete l.n[u].f;l=l.n}t:for(a=0,c=v.length;a<c;a++){for(u in(l=v[a]).n[l.name].f)continue t;for(u in l.n[l.name].n)continue t;delete l.n[l.name]}}}else p._events=s={n:{}}},p.once=function(t,e){var n=function(){return p.off(t,n),e.apply(this,arguments)};return p.on(t,n)},p.version="0.5.4",p.toString=function(){return"You are running Eve 0.5.4"},t.eve=p,"undefined"!=typeof module&&module.exports?module.exports=p:"function"==typeof define&&define.amd?define("eve",[],(function(){return p})):t.eve=p}("undefined"!=typeof window?window:void 0);!function(t){function e(t,r){if(t){if(t.nodeType)return X(t);if(q(t,"array")&&e.set)return e.set.apply(e,t);if(t instanceof G)return t;if(null==r)try{return X(t=n.doc.querySelector(String(t)))}catch(t){return null}}return new H(t=null==t?"100%":t,r=null==r?"100%":r)}e.version="0.5.1",e.toString=function(){return"Snap v"+this.version},e._={};var n={win:t.window,doc:t.window.document};e._.glob=n;var r,i,o="hasOwnProperty",a=String,s=parseFloat,c=parseInt,l=Math,u=l.max,f=l.min,h=l.abs,p=l.PI,d=Object.prototype.toString,y=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,x=(e._.separator=/[,\s]+/,/[\s]*,[\s]*/),v={hs:1,rg:1},b=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,m=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,w=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/gi,S=0,C="S"+(+new Date).toString(36),k=function(t){return(t&&t.type?t.type:"")+C+(S++).toString(36)},A="http://www.w3.org/1999/xlink",L="http://www.w3.org/2000/svg",M={};e.url=function(t){return"url('#"+t+"')"};function T(t,e){if(e){if("#text"==t&&(t=n.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=n.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=T(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(A,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(L,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var r in e)if(e[o](r)){var i=a(e[r]);i?"xlink:"==r.substring(0,6)?t.setAttributeNS(A,r.substring(6),i):"xml:"==r.substring(0,4)?t.setAttributeNS(L,r.substring(4),i):t.setAttribute(r,i):t.removeAttribute(r)}}else"text"in e&&(t.nodeValue=e.text)}else t=n.doc.createElementNS(L,t);return t}function q(t,e){return"finite"==(e=a.prototype.toLowerCase.call(e))?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||("null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||d.call(t).slice(8,-1).toLowerCase()==e)}function N(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function j(t,e,n){return function r(){var i=Array.prototype.slice.call(arguments,0),a=i.join("␀"),s=r.cache=r.cache||{},c=r.count=r.count||[];return s[o](a)?(N(c,a),n?n(s[a]):s[a]):(c.length>=1e3&&delete s[c.shift()],c.push(a),s[a]=t.apply(e,i),n?n(s[a]):s[a])}}function F(t){return t%360*p/180}e._.$=T,e._.id=k,e.format=(r=/\{([^\}]+)\}/g,i=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return a(t).replace(r,(function(t,n){return function(t,e,n){var r=n;return e.replace(i,(function(t,e,n,i,o){e=e||i,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))})),r=(null==r||r==n?t:r)+""}(t,n,e)}))}),e._.clone=function t(e){if("function"==typeof e||Object(e)!==e)return e;var n=new e.constructor;for(var r in e)e[o](r)&&(n[r]=t(e[r]));return n},e._.cacher=j,e.rad=F,e.deg=function(t){return 180*t/p%360},e.sin=function(t){return l.sin(e.rad(t))},e.tan=function(t){return l.tan(e.rad(t))},e.cos=function(t){return l.cos(e.rad(t))},e.asin=function(t){return e.deg(l.asin(t))},e.acos=function(t){return e.deg(l.acos(t))},e.atan=function(t){return e.deg(l.atan(t))},e.atan2=function(t){return e.deg(l.atan2(t))},e.angle=function t(e,n,r,i,o,a){if(null==o){var s=e-r,c=n-i;return s||c?(180+180*l.atan2(-c,-s)/p+360)%360:0}return t(e,n,o,a)-t(r,i,o,a)},e.len=function(t,n,r,i){return Math.sqrt(e.len2(t,n,r,i))},e.len2=function(t,e,n,r){return(t-n)*(t-n)+(e-r)*(e-r)},e.closestPoint=function(t,e,n){function r(t){var r=t.x-e,i=t.y-n;return r*r+i*i}for(var i,o,a,s,c=t.node,l=c.getTotalLength(),u=l/c.pathSegList.numberOfItems*.125,f=1/0,h=0;h<=l;h+=u)(s=r(a=c.getPointAtLength(h)))<f&&(i=a,o=h,f=s);for(u*=.5;u>.5;){var p,g,d,y,x,v;(d=o-u)>=0&&(x=r(p=c.getPointAtLength(d)))<f?(i=p,o=d,f=x):(y=o+u)<=l&&(v=r(g=c.getPointAtLength(y)))<f?(i=g,o=y,f=v):u*=.5}return i={x:i.x,y:i.y,length:o,distance:Math.sqrt(f)}},e.is=q,e.snapTo=function(t,e,n){if(n=q(n,"finite")?n:10,q(t,"array")){for(var r=t.length;r--;)if(h(t[r]-e)<=n)return t[r]}else{var i=e%(t=+t);if(i<n)return e-i;if(i>t-n)return e-i+t}return e},e.getRGB=j((function(t){if(!t||(t=a(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:z};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:z};if(!v[o](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=P(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:z};var n,r,i,h,p,g,d=t.match(y);return d?(d[2]&&(i=c(d[2].substring(5),16),r=c(d[2].substring(3,5),16),n=c(d[2].substring(1,3),16)),d[3]&&(i=c((p=d[3].charAt(3))+p,16),r=c((p=d[3].charAt(2))+p,16),n=c((p=d[3].charAt(1))+p,16)),d[4]&&(g=d[4].split(x),n=s(g[0]),"%"==g[0].slice(-1)&&(n*=2.55),r=s(g[1]),"%"==g[1].slice(-1)&&(r*=2.55),i=s(g[2]),"%"==g[2].slice(-1)&&(i*=2.55),"rgba"==d[1].toLowerCase().slice(0,4)&&(h=s(g[3])),g[3]&&"%"==g[3].slice(-1)&&(h/=100)),d[5]?(g=d[5].split(x),n=s(g[0]),"%"==g[0].slice(-1)&&(n/=100),r=s(g[1]),"%"==g[1].slice(-1)&&(r/=100),i=s(g[2]),"%"==g[2].slice(-1)&&(i/=100),("deg"==g[0].slice(-3)||"°"==g[0].slice(-1))&&(n/=360),"hsba"==d[1].toLowerCase().slice(0,4)&&(h=s(g[3])),g[3]&&"%"==g[3].slice(-1)&&(h/=100),e.hsb2rgb(n,r,i,h)):d[6]?(g=d[6].split(x),n=s(g[0]),"%"==g[0].slice(-1)&&(n/=100),r=s(g[1]),"%"==g[1].slice(-1)&&(r/=100),i=s(g[2]),"%"==g[2].slice(-1)&&(i/=100),("deg"==g[0].slice(-3)||"°"==g[0].slice(-1))&&(n/=360),"hsla"==d[1].toLowerCase().slice(0,4)&&(h=s(g[3])),g[3]&&"%"==g[3].slice(-1)&&(h/=100),e.hsl2rgb(n,r,i,h)):(n=f(l.round(n),255),r=f(l.round(r),255),i=f(l.round(i),255),h=f(u(h,0),1),(d={r:n,g:r,b:i,toString:z}).hex="#"+(16777216|i|r<<8|n<<16).toString(16).slice(1),d.opacity=q(h,"finite")?h:1,d)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:z}}),e),e.hsb=j((function(t,n,r){return e.hsb2rgb(t,n,r).hex})),e.hsl=j((function(t,n,r){return e.hsl2rgb(t,n,r).hex})),e.rgb=j((function(t,e,n,r){if(q(r,"finite")){var i=l.round;return"rgba("+[i(t),i(e),i(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}));var P=function(t){var e=n.doc.getElementsByTagName("head")[0]||n.doc.getElementsByTagName("svg")[0],r="rgb(255, 0, 0)";return(P=j((function(t){if("red"==t.toLowerCase())return r;e.style.color=r,e.style.color=t;var i=n.doc.defaultView.getComputedStyle(e,"").getPropertyValue("color");return i==r?null:i})))(t)},B=function(){return"hsb("+[this.h,this.s,this.b]+")"},_=function(){return"hsl("+[this.h,this.s,this.l]+")"},z=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},E=function(t,n,r){if(null==n&&q(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r),null==n&&q(t,string)){var i=e.getRGB(t);t=i.r,n=i.g,r=i.b}return(t>1||n>1||r>1)&&(t/=255,n/=255,r/=255),[t,n,r]},I=function(t,n,r,i){var o={r:t=l.round(255*t),g:n=l.round(255*n),b:r=l.round(255*r),opacity:q(i,"finite")?i:1,hex:e.rgb(t,n,r),toString:z};return q(i,"finite")&&(o.opacity=i),o};e.color=function(t){var n;return q(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.opacity=1,t.hex=n.hex):q(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.opacity=1,t.hex=n.hex):(q(t,"string")&&(t=e.getRGB(t)),q(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):((t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=z,t},e.hsb2rgb=function(t,e,n,r){var i,o,a,s,c;return q(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),s=(c=n*e)*(1-h((t=(t*=360)%360/60)%2-1)),i=o=a=n-c,I(i+=[c,s,0,0,s,c][t=~~t],o+=[s,c,c,s,0,0][t],a+=[0,0,s,c,c,s][t],r)},e.hsl2rgb=function(t,e,n,r){var i,o,a,s,c;return q(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),s=(c=2*e*(n<.5?n:1-n))*(1-h((t=(t*=360)%360/60)%2-1)),i=o=a=n-c/2,I(i+=[c,s,0,0,s,c][t=~~t],o+=[s,c,c,s,0,0][t],a+=[0,0,s,c,c,s][t],r)},e.rgb2hsb=function(t,e,n){var r,i;return t=(n=E(t,e,n))[0],e=n[1],n=n[2],{h:((0==(i=(r=u(t,e,n))-f(t,e,n))?null:r==t?(e-n)/i:r==e?(n-t)/i+2:(t-e)/i+4)+360)%6*60/360,s:0==i?0:i/r,b:r,toString:B}},e.rgb2hsl=function(t,e,n){var r,i,o,a;return t=(n=E(t,e,n))[0],e=n[1],n=n[2],r=((i=u(t,e,n))+(o=f(t,e,n)))/2,{h:((0==(a=i-o)?null:i==t?(e-n)/a:i==e?(n-t)/a+2:(t-e)/a+4)+360)%6*60/360,s:0==a?0:r<.5?a/(2*r):a/(2-2*r),l:r,toString:_}},e.parsePathString=function(t){if(!t)return null;var n=e.path(t);if(n.arr)return e.path.clone(n.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return q(t,"array")&&q(t[0],"array")&&(i=e.path.clone(t)),i.length||a(t).replace(b,(function(t,e,n){var o=[],a=e.toLowerCase();if(n.replace(w,(function(t,e){e&&o.push(+e)})),"m"==a&&o.length>2&&(i.push([e].concat(o.splice(0,2))),a="l",e="m"==e?"l":"L"),"o"==a&&1==o.length&&i.push([e,o[0]]),"r"==a)i.push([e].concat(o));else for(;o.length>=r[a]&&(i.push([e].concat(o.splice(0,r[a]))),r[a]););})),i.toString=e.path.toString,n.arr=e.path.clone(i),i};var O=e.parseTransformString=function(t){if(!t)return null;var n=[];return q(t,"array")&&q(t[0],"array")&&(n=e.path.clone(t)),n.length||a(t).replace(m,(function(t,e,r){var i=[];e.toLowerCase();r.replace(w,(function(t,e){e&&i.push(+e)})),n.push([e].concat(i))})),n.toString=e.path.toString,n};e._.svgTransform2string=function(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,(function(t,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(r.length>2?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),"skewX"==n?e.push(["m",1,0,l.tan(F(r[0])),1,0,0]):"skewY"==n?e.push(["m",1,l.tan(F(r[0])),0,1,0,0]):e.push([n.charAt(0)].concat(r)),t})),e},e._.rgTransform=/^[a-z][\s]*-?\.?\d/i,e._.transform2matrix=function(t,n){var r=O(t),i=new e.Matrix;if(r)for(var o=0,s=r.length;o<s;o++){var c,l,u,f,h,p=r[o],g=p.length,d=a(p[0]).toLowerCase(),y=p[0]!=d,x=y?i.invert():0;"t"==d&&2==g?i.translate(p[1],0):"t"==d&&3==g?y?(c=x.x(0,0),l=x.y(0,0),u=x.x(p[1],p[2]),f=x.y(p[1],p[2]),i.translate(u-c,f-l)):i.translate(p[1],p[2]):"r"==d?2==g?(h=h||n,i.rotate(p[1],h.x+h.width/2,h.y+h.height/2)):4==g&&(y?(u=x.x(p[2],p[3]),f=x.y(p[2],p[3]),i.rotate(p[1],u,f)):i.rotate(p[1],p[2],p[3])):"s"==d?2==g||3==g?(h=h||n,i.scale(p[1],p[g-1],h.x+h.width/2,h.y+h.height/2)):4==g?y?(u=x.x(p[2],p[3]),f=x.y(p[2],p[3]),i.scale(p[1],p[1],u,f)):i.scale(p[1],p[1],p[2],p[3]):5==g&&(y?(u=x.x(p[3],p[4]),f=x.y(p[3],p[4]),i.scale(p[1],p[2],u,f)):i.scale(p[1],p[2],p[3],p[4])):"m"==d&&7==g&&i.add(p[1],p[2],p[3],p[4],p[5],p[6])}return i},e._unit2px=function(t,e,n){var r=V(t).node,i={},o=r.querySelector(".svg---mgr");o||(o=T("rect"),T(o,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),r.appendChild(o));function a(t){if(null==t)return"";if(t==+t)return t;T(o,{width:t});try{return o.getBBox().width}catch(t){return 0}}function s(t){if(null==t)return"";if(t==+t)return t;T(o,{height:t});try{return o.getBBox().height}catch(t){return 0}}function c(r,o){null==e?i[r]=o(t.attr(r)||0):r==e&&(i=o(null==n?t.attr(r)||0:n))}switch(t.type){case"rect":c("rx",a),c("ry",s);case"image":c("width",a),c("height",s);case"text":c("x",a),c("y",s);break;case"circle":c("cx",a),c("cy",s),c("r",a);break;case"ellipse":c("cx",a),c("cy",s),c("rx",a),c("ry",s);break;case"line":c("x1",a),c("x2",a),c("y1",s),c("y2",s);break;case"marker":c("refX",a),c("markerWidth",a),c("refY",s),c("markerHeight",s);break;case"radialGradient":c("fx",a),c("fy",s);break;case"tspan":c("dx",a),c("dy",s);break;default:c(e,a)}return r.removeChild(o),i};n.doc.contains||n.doc.compareDocumentPosition;function V(t){return t.node.ownerSVGElement&&X(t.node.ownerSVGElement)||e.select("svg")}function R(t){q(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,r=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach((function(t){r.appendChild(t.node)})):r.appendChild(t[e].node);var i=r.childNodes;for(e=0;e<i.length;e++)this[n++]=X(i[e]);return this}function G(t){if(t.snap in M)return M[t.snap];var e;try{e=t.ownerSVGElement}catch(t){}this.node=t,e&&(this.paper=new H(e)),this.type=t.tagName||t.nodeName;var n=this.id=k(this);if(this.anims={},this._={transform:[]},t.snap=n,M[n]=this,"g"==this.type&&(this.add=R),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in H.prototype)H.prototype[o](r)&&(this[r]=H.prototype[r])}function D(t){this.node=t}function U(t,e){var n=T(t);return e.appendChild(n),X(n)}function H(t,e){var r,i,a,s=H.prototype;if(t&&t.tagName&&"svg"==t.tagName.toLowerCase()){if(t.snap in M)return M[t.snap];var c=t.ownerDocument;for(var l in r=new G(t),i=t.getElementsByTagName("desc")[0],a=t.getElementsByTagName("defs")[0],i||((i=T("desc")).appendChild(c.createTextNode("Created with Snap")),r.node.appendChild(i)),a||(a=T("defs"),r.node.appendChild(a)),r.defs=a,s)s[o](l)&&(r[l]=s[l]);r.paper=r.root=r}else T((r=U("svg",n.doc.body)).node,{height:e,version:1.1,width:t,xmlns:L});return r}function X(t){return t?t instanceof G||t instanceof D?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new H(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new H(t.contentDocument.getElementsByTagName("svg")[0]):new G(t):t}e._.getSomeDefs=function(t){var n=t.node.ownerSVGElement&&X(t.node.ownerSVGElement)||t.node.parentNode&&X(t.node.parentNode)||e.select("svg")||e(0,0),r=n.select("defs"),i=null!=r&&r.node;return i||(i=U("defs",n.node).node),i},e._.getSomeSVG=V,e.select=function(t){return t=a(t).replace(/([^\\]):/g,"$1\\:"),X(n.doc.querySelector(t))},e.selectAll=function(t){for(var r=n.doc.querySelectorAll(t),i=(e.set||Array)(),o=0;o<r.length;o++)i.push(X(r[o]));return i},setInterval((function(){for(var t in M)if(M[o](t)){var e=M[t],n=e.node;("svg"!=e.type&&!n.ownerSVGElement||"svg"==e.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete M[t]}}),1e4),G.prototype.attr=function(t,e){var n=this,r=n.node;if(!t){if(1!=r.nodeType)return{text:r.nodeValue};for(var i=r.attributes,a={},s=0,c=i.length;s<c;s++)a[i[s].nodeName]=i[s].nodeValue;return a}if(q(t,"string")){if(!(arguments.length>1))return eve("snap.util.getattr."+t,n).firstDefined();var l={};l[t]=e,t=l}for(var u in t)t[o](u)&&eve("snap.util.attr."+u,n,t[u]);return n},e.parse=function(t){var e=n.doc.createDocumentFragment(),r=!0,i=n.doc.createElement("div");if((t=a(t)).match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",r=!1),i.innerHTML=t,t=i.getElementsByTagName("svg")[0])if(r)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new D(e)},e.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),r=n.doc.createDocumentFragment(),i=0,o=t.length;i<o;i++){var a=t[i];a.node&&a.node.nodeType&&r.appendChild(a.node),a.nodeType&&r.appendChild(a),"string"==typeof a&&r.appendChild(e.parse(a).node)}return new D(r)},e._.make=U,e._.wrap=X,H.prototype.el=function(t,e){var n=U(t,this.node);return e&&n.attr(e),n},G.prototype.children=function(){for(var t=[],n=this.node.childNodes,r=0,i=n.length;r<i;r++)t[r]=e(n[r]);return t},G.prototype.toJSON=function(){var t=[];return function t(e,n){for(var r=0,i=e.length;r<i;r++){var o={type:e[r].type,attr:e[r].attr()},a=e[r].children();n.push(o),a.length&&t(a,o.childNodes=[])}}([this],t),t[0]},eve.on("snap.util.getattr",(function(){var t=eve.nt(),e=(t=t.substring(t.lastIndexOf(".")+1)).replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));return Y[o](e)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(e):T(this.node,t)}));var Y={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};eve.on("snap.util.attr",(function(t){var e=eve.nt(),n={};n[e=e.substring(e.lastIndexOf(".")+1)]=t;var r=e.replace(/-(\w)/gi,(function(t,e){return e.toUpperCase()})),i=e.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));Y[o](i)?this.node.style[r]=null==t?"":t:T(this.node,n)})),e.ajax=function(t,e,n,r){var i=new XMLHttpRequest,o=k();if(i){if(q(e,"function"))r=n,n=e,e=null;else if(q(e,"object")){var a=[];for(var s in e)e.hasOwnProperty(s)&&a.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));e=a.join("&")}return i.open(e?"POST":"GET",t,!0),e&&(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded")),n&&(eve.once("snap.ajax."+o+".0",n),eve.once("snap.ajax."+o+".200",n),eve.once("snap.ajax."+o+".304",n)),i.onreadystatechange=function(){4==i.readyState&&eve("snap.ajax."+o+"."+i.status,r,i)},4==i.readyState?i:(i.send(e),i)}},e.load=function(t,n,r){e.ajax(t,(function(t){var i=e.parse(t.responseText);r?n.call(r,i):n(i)}))};e.getElementByPoint=function(t,e){this.canvas;var r,i,o,a,s,c,l,u=n.doc.elementFromPoint(t,e);if(n.win.opera&&"svg"==u.tagName){var f=(i=(r=u).getBoundingClientRect(),o=r.ownerDocument,a=o.body,s=o.documentElement,c=s.clientTop||a.clientTop||0,l=s.clientLeft||a.clientLeft||0,{y:i.top+(g.win.pageYOffset||s.scrollTop||a.scrollTop)-c,x:i.left+(g.win.pageXOffset||s.scrollLeft||a.scrollLeft)-l}),h=u.createSVGRect();h.x=t-f.x,h.y=e-f.y,h.width=h.height=1;var p=u.getIntersectionList(h,null);p.length&&(u=p[p.length-1])}return u?X(u):null},e.plugin=function(t){t(e,G,H,n,D)},n.win.Snap=e}(window||void 0);Snap.plugin((function(t,e,n,r){var i=e.prototype,o=t.is,a=t._.clone,s=/,?([a-z]),?/gi,c=parseFloat,l=Math,u=l.PI,f=l.min,h=l.max,p=l.pow,g=l.abs;function d(t){var e=d.ps=d.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var n in e)e.hasOwnProperty(n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])})),e[t]}function y(t,e,n,r){return null==t&&(t=e=n=r=0),null==e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:l.min(n,r)/2,r2:l.max(n,r)/2,r0:l.sqrt(n*n+r*r)/2,path:B(t,e,n,r),vb:[t,e,n,r].join(" ")}}function x(){return this.join(",").replace(s,"$1")}function v(t){var e=a(t);return e.toString=x,e}function b(t,e,n,r,i,o,a,s,c){return null==c?q(t,e,n,r,i,o,a,s):k(t,e,n,r,i,o,a,s,function(t,e,n,r,i,o,a,s,c){if(c<0||q(t,e,n,r,i,o,a,s)<c)return;var l,u=.5,f=1-u;l=q(t,e,n,r,i,o,a,s,f);for(;g(l-c)>.01;)l=q(t,e,n,r,i,o,a,s,f+=(l<c?1:-1)*(u/=2));return f}(t,e,n,r,i,o,a,s,c))}function m(n,r){function i(t){return+(+t).toFixed(3)}return t._.cacher((function(t,o,a){t instanceof e&&(t=t.attr("d"));for(var s,c,l,u,f,h="",p={},g=0,d=0,y=(t=D(t)).length;d<y;d++){if("M"==(l=t[d])[0])s=+l[1],c=+l[2];else{if(g+(u=b(s,c,l[1],l[2],l[3],l[4],l[5],l[6]))>o){if(r&&!p.start){if(h+=["C"+i((f=b(s,c,l[1],l[2],l[3],l[4],l[5],l[6],o-g)).start.x),i(f.start.y),i(f.m.x),i(f.m.y),i(f.x),i(f.y)],a)return h;p.start=h,h=["M"+i(f.x),i(f.y)+"C"+i(f.n.x),i(f.n.y),i(f.end.x),i(f.end.y),i(l[5]),i(l[6])].join(),g+=u,s=+l[5],c=+l[6];continue}if(!n&&!r)return f=b(s,c,l[1],l[2],l[3],l[4],l[5],l[6],o-g)}g+=u,s=+l[5],c=+l[6]}h+=l.shift()+l}return p.end=h,f=n?g:r?p:k(s,c,l[0],l[1],l[2],l[3],l[4],l[5],1)}),null,t._.clone)}var w=m(1),S=m(),C=m(0,1);function k(t,e,n,r,i,o,a,s,c){var f=1-c,h=p(f,3),g=p(f,2),d=c*c,y=d*c,x=t+2*c*(n-t)+d*(i-2*n+t),v=e+2*c*(r-e)+d*(o-2*r+e),b=n+2*c*(i-n)+d*(a-2*i+n),m=r+2*c*(o-r)+d*(s-2*o+r);return{x:h*t+3*g*c*n+3*f*c*c*i+y*a,y:h*e+3*g*c*r+3*f*c*c*o+y*s,m:{x:x,y:v},n:{x:b,y:m},start:{x:f*t+c*n,y:f*e+c*r},end:{x:f*i+c*a,y:f*o+c*s},alpha:90-180*l.atan2(x-b,v-m)/u}}function A(e,n,r,i,o,a,s,c){t.is(e,"array")||(e=[e,n,r,i,o,a,s,c]);var l=G.apply(null,e);return y(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function L(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function M(t,e){return t=y(t),L(e=y(e),t.x,t.y)||L(e,t.x2,t.y)||L(e,t.x,t.y2)||L(e,t.x2,t.y2)||L(t,e.x,e.y)||L(t,e.x2,e.y)||L(t,e.x,e.y2)||L(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function T(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function q(t,e,n,r,i,o,a,s,c){null==c&&(c=1);for(var u=(c=c>1?1:c<0?0:c)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;g<12;g++){var d=u*f[g]+u,y=T(d,t,n,i,a),x=T(d,e,r,o,s),v=y*y+x*x;p+=h[g]*l.sqrt(v)}return u*p}function N(t,e,n,r,i,o,a,s){if(!(h(t,n)<f(i,a)||f(t,n)>h(i,a)||h(e,r)<f(o,s)||f(e,r)>h(o,s))){var c=(t-n)*(o-s)-(e-r)*(i-a);if(c){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/c,u=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/c,p=+l.toFixed(2),g=+u.toFixed(2);if(!(p<+f(t,n).toFixed(2)||p>+h(t,n).toFixed(2)||p<+f(i,a).toFixed(2)||p>+h(i,a).toFixed(2)||g<+f(e,r).toFixed(2)||g>+h(e,r).toFixed(2)||g<+f(o,s).toFixed(2)||g>+h(o,s).toFixed(2)))return{x:l,y:u}}}}function j(t,e,n){if(!M(A(t),A(e)))return n?0:[];for(var r=~~(q.apply(0,t)/8),i=~~(q.apply(0,e)/8),o=[],a=[],s={},c=n?0:[],l=0;l<r+1;l++){var u=k.apply(0,t.concat(l/r));o.push({x:u.x,y:u.y,t:l/r})}for(l=0;l<i+1;l++)u=k.apply(0,e.concat(l/i)),a.push({x:u.x,y:u.y,t:l/i});for(l=0;l<r;l++)for(var f=0;f<i;f++){var h=o[l],p=o[l+1],d=a[f],y=a[f+1],x=g(p.x-h.x)<.001?"y":"x",v=g(y.x-d.x)<.001?"y":"x",b=N(h.x,h.y,p.x,p.y,d.x,d.y,y.x,y.y);if(b){if(s[b.x.toFixed(4)]==b.y.toFixed(4))continue;s[b.x.toFixed(4)]=b.y.toFixed(4);var m=h.t+g((b[x]-h[x])/(p[x]-h[x]))*(p.t-h.t),w=d.t+g((b[v]-d[v])/(y[v]-d[v]))*(y.t-d.t);m>=0&&m<=1&&w>=0&&w<=1&&(n?c++:c.push({x:b.x,y:b.y,t1:m,t2:w}))}}return c}function F(t,e,n){t=D(t),e=D(e);for(var r,i,o,a,s,c,l,u,f,h,p=n?0:[],g=0,d=t.length;g<d;g++){var y=t[g];if("M"==y[0])r=s=y[1],i=c=y[2];else{"C"==y[0]?(f=[r,i].concat(y.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,c,s,c],r=s,i=c);for(var x=0,v=e.length;x<v;x++){var b=e[x];if("M"==b[0])o=l=b[1],a=u=b[2];else{"C"==b[0]?(h=[o,a].concat(b.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,l,u,l,u],o=l,a=u);var m=j(f,h,n);if(n)p+=m;else{for(var w=0,S=m.length;w<S;w++)m[w].segment1=g,m[w].segment2=x,m[w].bez1=f,m[w].bez2=h;p=p.concat(m)}}}}}return p}function P(t){var e=d(t);if(e.bbox)return a(e.bbox);if(!t)return y();for(var n,r=0,i=0,o=[],s=[],c=0,l=(t=D(t)).length;c<l;c++)if("M"==(n=t[c])[0])r=n[1],i=n[2],o.push(r),s.push(i);else{var u=G(r,i,n[1],n[2],n[3],n[4],n[5],n[6]);o=o.concat(u.min.x,u.max.x),s=s.concat(u.min.y,u.max.y),r=n[5],i=n[6]}var p=f.apply(0,o),g=f.apply(0,s),x=y(p,g,h.apply(0,o)-p,h.apply(0,s)-g);return e.bbox=a(x),x}function B(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.toString=x,o}function _(t,e,n,r,i){if(null==i&&null==r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!=i)var o=Math.PI/180,a=t+n*Math.cos(-r*o),s=t+n*Math.cos(-i*o),c=[["M",a,e+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,s,e+n*Math.sin(-i*o)]];else c=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return c.toString=x,c}var z=t._unit2px,E={path:function(t){return t.attr("path")},circle:function(t){var e=z(t);return _(e.cx,e.cy,e.r)},ellipse:function(t){var e=z(t);return _(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=z(t);return B(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=z(t);return B(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return B(e.x,e.y,e.width,e.height)}};function I(e){var n=d(e);if(n.abs)return v(n.abs);if(o(e,"array")&&o(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r,i=[],a=0,s=0,c=0,l=0,u=0;"M"==e[0][0]&&(c=a=+e[0][1],l=s=+e[0][2],u++,i[0]=["M",a,s]);for(var f,h,p=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),g=u,y=e.length;g<y;g++){if(i.push(f=[]),(r=(h=e[g])[0])!=r.toUpperCase())switch(f[0]=r.toUpperCase(),f[0]){case"A":f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=+h[6]+a,f[7]=+h[7]+s;break;case"V":f[1]=+h[1]+s;break;case"H":f[1]=+h[1]+a;break;case"R":for(var b=[a,s].concat(h.slice(1)),m=2,w=b.length;m<w;m++)b[m]=+b[m]+a,b[++m]=+b[m]+s;i.pop(),i=i.concat(U(b,p));break;case"O":i.pop(),(b=_(a,s,h[1],h[2])).push(b[0]),i=i.concat(b);break;case"U":i.pop(),i=i.concat(_(a,s,h[1],h[2],h[3])),f=["U"].concat(i[i.length-1].slice(-2));break;case"M":c=+h[1]+a,l=+h[2]+s;default:for(m=1,w=h.length;m<w;m++)f[m]=+h[m]+(m%2?a:s)}else if("R"==r)b=[a,s].concat(h.slice(1)),i.pop(),i=i.concat(U(b,p)),f=["R"].concat(h.slice(-2));else if("O"==r)i.pop(),(b=_(a,s,h[1],h[2])).push(b[0]),i=i.concat(b);else if("U"==r)i.pop(),i=i.concat(_(a,s,h[1],h[2],h[3])),f=["U"].concat(i[i.length-1].slice(-2));else for(var S=0,C=h.length;S<C;S++)f[S]=h[S];if("O"!=(r=r.toUpperCase()))switch(f[0]){case"Z":a=+c,s=+l;break;case"H":a=f[1];break;case"V":s=f[1];break;case"M":c=f[f.length-2],l=f[f.length-1];default:a=f[f.length-2],s=f[f.length-1]}}return i.toString=x,n.abs=v(i),i}function O(t,e,n,r){return[t,e,n,r,n,r]}function V(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function R(e,n,r,i,o,a,s,c,f,h){var p,d=120*u/180,y=u/180*(+o||0),x=[],v=t._.cacher((function(t,e,n){return{x:t*l.cos(n)-e*l.sin(n),y:t*l.sin(n)+e*l.cos(n)}}));if(!r||!i)return[e,n,c,f,c,f];if(h)M=h[0],T=h[1],A=h[2],L=h[3];else{e=(p=v(e,n,-y)).x,n=p.y;var b=(e-(c=(p=v(c,f,-y)).x))/2,m=(n-(f=p.y))/2,w=b*b/(r*r)+m*m/(i*i);w>1&&(r*=w=l.sqrt(w),i*=w);var S=r*r,C=i*i,k=(a==s?-1:1)*l.sqrt(g((S*C-S*m*m-C*b*b)/(S*m*m+C*b*b))),A=k*r*m/i+(e+c)/2,L=k*-i*b/r+(n+f)/2,M=l.asin(((n-L)/i).toFixed(9)),T=l.asin(((f-L)/i).toFixed(9));(M=e<A?u-M:M)<0&&(M=2*u+M),(T=c<A?u-T:T)<0&&(T=2*u+T),s&&M>T&&(M-=2*u),!s&&T>M&&(T-=2*u)}var q=T-M;if(g(q)>d){var N=T,j=c,F=f;T=M+d*(s&&T>M?1:-1),x=R(c=A+r*l.cos(T),f=L+i*l.sin(T),r,i,o,0,s,j,F,[T,N,A,L])}q=T-M;var P=l.cos(M),B=l.sin(M),_=l.cos(T),z=l.sin(T),E=l.tan(q/4),I=4/3*r*E,O=4/3*i*E,V=[e,n],G=[e+I*B,n-O*P],D=[c+I*z,f-O*_],U=[c,f];if(G[0]=2*V[0]-G[0],G[1]=2*V[1]-G[1],h)return[G,D,U].concat(x);for(var H=[],X=0,Y=(x=[G,D,U].concat(x).join().split(",")).length;X<Y;X++)H[X]=X%2?v(x[X-1],x[X],y).y:v(x[X],x[X+1],y).x;return H}function G(t,e,n,r,i,o,a,s){for(var c,u,p,d,y,x,v,b,m=[],w=[[],[]],S=0;S<2;++S)if(0==S?(u=6*t-12*n+6*i,c=-3*t+9*n-9*i+3*a,p=3*n-3*t):(u=6*e-12*r+6*o,c=-3*e+9*r-9*o+3*s,p=3*r-3*e),g(c)<1e-12){if(g(u)<1e-12)continue;0<(d=-p/u)&&d<1&&m.push(d)}else v=u*u-4*p*c,b=l.sqrt(v),v<0||(0<(y=(-u+b)/(2*c))&&y<1&&m.push(y),0<(x=(-u-b)/(2*c))&&x<1&&m.push(x));for(var C,k=m.length,A=k;k--;)C=1-(d=m[k]),w[0][k]=C*C*C*t+3*C*C*d*n+3*C*d*d*i+d*d*d*a,w[1][k]=C*C*C*e+3*C*C*d*r+3*C*d*d*o+d*d*d*s;return w[0][A]=t,w[1][A]=e,w[0][A+1]=a,w[1][A+1]=s,w[0].length=w[1].length=A+2,{min:{x:f.apply(0,w[0]),y:f.apply(0,w[1])},max:{x:h.apply(0,w[0]),y:h.apply(0,w[1])}}}function D(t,e){var n=!e&&d(t);if(!e&&n.curve)return v(n.curve);for(var r=I(t),i=e&&I(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(R.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(V(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(V(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(O(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(O(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(O(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(O(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)f[e]="A",i&&(p[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),b=h(r.length,i&&i.length||0)}},u=function(t,e,n,o,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],b=h(r.length,i&&i.length||0))},f=[],p=[],g="",y="",x=0,b=h(r.length,i&&i.length||0);x<b;x++){r[x]&&(g=r[x][0]),"C"!=g&&(f[x]=g,x&&(y=f[x-1])),r[x]=s(r[x],o,y),"A"!=f[x]&&"C"==g&&(f[x]="C"),l(r,x),i&&(i[x]&&(g=i[x][0]),"C"!=g&&(p[x]=g,x&&(y=p[x-1])),i[x]=s(i[x],a,y),"A"!=p[x]&&"C"==g&&(p[x]="C"),l(i,x)),u(r,i,o,a,x),u(i,r,a,o,x);var m=r[x],w=i&&i[x],S=m.length,C=i&&w.length;o.x=m[S-2],o.y=m[S-1],o.bx=c(m[S-4])||o.x,o.by=c(m[S-3])||o.y,a.bx=i&&(c(w[C-4])||a.x),a.by=i&&(c(w[C-3])||a.y),a.x=i&&w[C-2],a.y=i&&w[C-1]}return i||(n.curve=v(r)),i?[r,i]:r}function U(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}t.path=d,t.path.getTotalLength=w,t.path.getPointAtLength=S,t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return C(t,e).end;var r=C(t,n,1);return e?C(r,e).end:r},i.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},i.getPointAtLength=function(t){return S(this.attr("d"),t)},i.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)},t._.box=y,t.path.findDotsAtSegment=k,t.path.bezierBBox=A,t.path.isPointInsideBBox=L,t.closest=function(e,n,r,i){for(var o=100,a=y(e-o/2,n-o/2,o,o),s=[],c=r[0].hasOwnProperty("x")?function(t){return{x:r[t].x,y:r[t].y}}:function(t){return{x:r[t],y:i[t]}},l=0;o<=1e6&&!l;){for(var u=0,f=r.length;u<f;u++){var h=c(u);if(L(a,h.x,h.y)){l++,s.push(h);break}}l||(a=y(e-(o*=2)/2,n-o/2,o,o))}if(1e6!=o){var p,g=1/0;for(u=0,f=s.length;u<f;u++){var d=t.len(e,n,s[u].x,s[u].y);g>d&&(g=d,s[u].len=d,p=s[u])}return p}},t.path.isBBoxIntersect=M,t.path.intersection=function(t,e){return F(t,e)},t.path.intersectionNumber=function(t,e){return F(t,e,1)},t.path.isPointInside=function(t,e,n){var r=P(t);return L(r,e,n)&&F(t,[["M",e,n],["H",r.x2+10]],1)%2==1},t.path.getBBox=P,t.path.get=E,t.path.toRelative=function(e){var n=d(e),r=String.prototype.toLowerCase;if(n.rel)return v(n.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var i=[],o=0,a=0,s=0,c=0,l=0;"M"==e[0][0]&&(s=o=e[0][1],c=a=e[0][2],l++,i.push(["M",o,a]));for(var u=l,f=e.length;u<f;u++){var h=i[u]=[],p=e[u];if(p[0]!=r.call(p[0]))switch(h[0]=r.call(p[0]),h[0]){case"a":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+(p[6]-o).toFixed(3),h[7]=+(p[7]-a).toFixed(3);break;case"v":h[1]=+(p[1]-a).toFixed(3);break;case"m":s=p[1],c=p[2];default:for(var g=1,y=p.length;g<y;g++)h[g]=+(p[g]-(g%2?o:a)).toFixed(3)}else{h=i[u]=[],"m"==p[0]&&(s=p[1]+o,c=p[2]+a);for(var b=0,m=p.length;b<m;b++)i[u][b]=p[b]}var w=i[u].length;switch(i[u][0]){case"z":o=s,a=c;break;case"h":o+=+i[u][w-1];break;case"v":a+=+i[u][w-1];break;default:o+=+i[u][w-2],a+=+i[u][w-1]}}return i.toString=x,n.rel=v(i),i},t.path.toAbsolute=I,t.path.toCubic=D,t.path.map=function(t,e){if(!e)return t;var n,r,i,o,a,s,c;for(i=0,a=(t=D(t)).length;i<a;i++)for(o=1,s=(c=t[i]).length;o<s;o+=2)n=e.x(c[o],c[o+1]),r=e.y(c[o],c[o+1]),c[o]=n,c[o+1]=r;return t},t.path.toString=x,t.path.clone=v}));
